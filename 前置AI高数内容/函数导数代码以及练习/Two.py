#   二维函数
#   二维函数:x^2+4x+y^2+4y+1
def f_2d(x,y):
    return x ** 2 + 4 * x + y ** 2 + 4 * y +1
#   二维函数求导函数: {f'(x)=2x+4,f'(y)=2y+4}
def df_2d(x,y):
    return 2 * x + 4,2 * y + 4
# 循环得到的结果很接近极限,但是没有下面那个循环200次的结果接近
x,y = 4,4
for it in range(20):
    v_x,v_y = df_2d(x,y)
    x,y = x-0.1*v_x,y-0.1*v_y
    print("1_f({}{})={}".format(x,y,f_2d(x,y)))
# 1_f(2.82.8)=39.08
# 1_f(1.83999999999999991.8399999999999999)=22.4912
# .........................................
# 1_f(-1.9135308871544865-1.9135308871544865)=-6.98504618504742
# 1_f(-1.930824709723589-1.930824709723589)=-6.990429558430349

# 迭代200次的结果,明显准确率更高
x,y = 4,4
for it in range(200):
    v_x,v_y = df_2d(x,y)
    x,y = x-0.1*v_x,y-0.1*v_y
    print("2_f({}{})={}".format(x,y,f_2d(x,y)))
# 2_f(2.82.8)=39.08
# 2_f(1.83999999999999991.8399999999999999)=22.4912
# 2_f(1.07199999999999981.0719999999999998)=11.874367999999999
# .....................................................
# 2_f(-1.9999999999999996-1.9999999999999996)=-7.0
# 2_f(-1.9999999999999996-1.9999999999999996)=-7.0

# 结论:二维导数的过程就是一个矩阵,x,y的值也就是这个矩阵中的一个个样本参数